---
title: "TimePicker ì œì‘í•˜ê¸°"
date: 2024-08-13
desc: IOSì™€ ìœ ì‚¬í•œ ë””ìì¸ì˜ ì‹œê°„ ì„ íƒê¸°ë¥¼ ì œì‘í•´ë³´ì•˜ìŠµë‹ˆë‹¤.
thumbnail: /images/posts/ê¸°íƒ€/made-timepicker/thumbnail.gif
---

![](https://velog.velcdn.com/images/gustjd3834/post/c740cbb9-5584-4040-83ef-79faeb2a39f6/image.png)

> í”„ë¡œì íŠ¸ë¥¼ í•˜ë˜ ì¤‘ ì‹œê°„ì„ ì§€ì •í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì•¼ í–ˆìŠµë‹ˆë‹¤.
> ë””ìì´ë„ˆë¶„ê»˜ì„œ ì „ë‹¬í•´ì¤€ ë””ìì¸ì€ IOS ê¸°ê¸°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‹œê°„ ì„ íƒê¸° ëŠë‚Œì´ì—ˆìŠµë‹ˆë‹¤.
> ì²˜ìŒì—” ë¹„ìŠ·í•œ ë””ìì¸ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì•„ êµ¬í˜„í•˜ë ¤ê³  í–ˆì§€ë§Œ, ë§ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì—†ì–´ì„œ ì§ì ‘ êµ¬í˜„í•˜ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤. ğŸ”¥

ìš°ì„  êµ¬í˜„ëœ ê²°ê³¼ë¶€í„° ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
![time-picker](https://github.com/user-attachments/assets/e6214f34-6984-4608-bcd2-58b6ce429c4e)

ì´ì œ ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤.

ìš°ì„  ì˜¤ì „/ì˜¤í›„, ì‹œê°„, ë¶„ì˜ ë°°ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤.

```tsx
const periods = [100].concat(
  Array.from({ length: 2 }, (_, index) => index),
  [101]
);

const hours = [100].concat(
  Array.from({ length: 12 }, (_, index) => index),
  [101]
);

const minutes = [101].concat(
  Array.from({ length: 6 }, (_, index) => index),
  [102]
);
```

ê·¸ë¦¬ê³  ìŠ¤í¬ë¡¤ì— ë§ì¶œ ë†’ì´ê°’ì„ ê³„ì‚°í•©ë‹ˆë‹¤.

```tsx
const ITEM_HEIGHT =
  innerWidth >= 520 ? 53.19 : ((2.7778 * innerWidth) / 100) * 3.8;
// í•­ëª©ì˜ ì„¸ë¡œ ë„ˆë¹„ë¥¼ 3.8remìœ¼ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.
```

ì €ì˜ ê²½ìš°ì—ëŠ” ìµœëŒ€ ê°€ë¡œ ë„ˆë¹„ê°€ 520pxì¸ `rem`ì„ ì‚¬ìš©í•œ ë°˜ì‘í˜• ì›¹ì„ ì œì‘í–ˆê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì´ ì„¸ë¡œ ë„ˆë¹„ë¥¼ ê³„ì‚°í–ˆìŠµë‹ˆë‹¤.

ë‹¤ìŒì€ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ í•¨ìˆ˜ì…ë‹ˆë‹¤.

```ts
const handleScroll = (
  event: React.UIEvent<HTMLUListElement>,
  dataArray: number[],
  type: "period" | "hour" | "minute",
  multiplier: number,
  refElement: React.RefObject<HTMLUListElement>
) => {
  const scrollTop = event.currentTarget.scrollTop;

  if (!isScrolling) {
    setIsScrolling(true);
  }

  const calculatedValue = Math.round(scrollTop / ITEM_HEIGHT);
  if (dataArray.includes(calculatedValue)) {
    const finalValue =
      type === "hour" ? calculatedValue + 1 : calculatedValue * multiplier;
    setTime(type, finalValue);
  }

  if (refElement.current) {
    const listElement = refElement.current as HTMLUListElement & {
      _scrollTimeout?: number;
    };

    // ìŠ¤í¬ë¡¤ ì‹œ ìŠ¤í¬ë¡¤ê°’ì„ ë°”íƒ•ìœ¼ë¡œ ê°€ì¥ ê°€ê¹Œìš´ ê°’ì— ìŠ¤í¬ë¡¤ì„ ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.
    // smoothëŠ” ë¶€ë“œëŸ½ê²Œ ì´ë™í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.
    clearTimeout(listElement._scrollTimeout as number);
    listElement._scrollTimeout = window.setTimeout(() => {
      listElement.style.scrollBehavior = "smooth";
      listElement.scrollTop = calculatedValue * ITEM_HEIGHT;

      setTimeout(() => {
        listElement.style.scrollBehavior = "auto";
        setIsScrolling(false);
      }, 300);
    }, 100);
  }
};
```

period, hour, minute ì„¸ ìŠ¤í¬ë¡¤ íƒ€ì…ì— ëª¨ë‘ ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ UIë¥¼ êµ¬ì„±í•˜ëŠ” jsxì½”ë“œì…ë‹ˆë‹¤.
hourì˜ ì˜ˆì‹œì…ë‹ˆë‹¤. periodì™€ minuteë„ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
<ul
  className="h-[11.4rem] overflow-y-scroll hide-scrollbar w-full"
  onScroll={(e) => handleScroll(e, hours, "hour", 1, hoursRef)}
  ref={hoursRef}
>
  {hours.map((hour) => {
    if (hour >= 100) {
      return <li key={hour} className="h-[3.8rem]" />;
    }

    const realHour = hour + 1;

    return (
      <li
        key={realHour}
        className="h-[3.8rem] flex items-center justify-center"
      >
        <p className="text-body1">
          {realHour.toString().length === 1
            ? "0" + realHour.toString()
            : realHour}
        </p>
      </li>
    );
  })}
</ul>
```
